{% extends "base.html" %}

{% block content %} 
<div class="view-posts">
<h1>{{ group.name }}</h1>
<img src="{{ group.avatar_url }}" alt="Group Avatar">
<p>{{ group.about }}</p>
<h3>Members</h3>
<h3>Group Posts</h3>
{% if form %}
<form action="" method="post">
    {{ form.hidden_tag() }}
    <p>
        {{ form.post.label }}<br>
        {{ form.post(cols=32, rows=4) }}<br>
        {% for error in form.post.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </p>
    <p>{{ form.submit() }}</p>
</form>
{% endif %}
    
{% if posts %}
    <ul class="post-list">
        {% for post in posts %}
            {% include '_post.html' %}
        {% endfor %}
    </ul>
    <nav aria-label="Post navigation">
        <ul class="pagination">
            {% if prev_url %}
                <li class="page-item">
                    <a class="page-link" href="{{ prev_url }}">
                        <span aria-hidden="true">&larr;</span> Newer posts
                    </a>
                </li>
            {% endif %}
            {% if next_url %}
                <li class="page-item">
                    <a class="page-link" href="{{ next_url }}">
                        Older posts <span aria-hidden="true">&rarr;</span>
                    </a>
                </li>
            {% endif %}
        </ul>
    </nav>
{% else %}
    <p>No posts in this group yet.</p>
{% endif %}
</div>

{% endblock %} 